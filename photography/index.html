<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Photography</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body class="photography-page">
  <nav class="site-nav" aria-label="Site">
    <a href="/index.html">Home</a>
    <a href="/photography/">Photography</a>
    <a href="/projects/">Projects</a>
    <a href="/blog/">Blog</a>
    <a href="https://shop.quentinnichols.com/" target="_blank" rel="noopener">Shop</a>
    <a href="/contact/">Contact</a>
  </nav>

  <main class="photo-main">
    <section class="qjn-shell" aria-labelledby="qjn-title">
      <div class="qjn-inner">
        <header class="qjn-head">
          <div class="qjn-head-text">
            <p class="qjn-kicker">Photography</p>
            <h1 id="qjn-title">Browse QJN Photography</h1>
            <p class="qjn-sub">
              Explore ongoing bodies of work, fine-art highlights, and booking options.
            </p>
          </div>
        </header>

        <section class="qjn-collection-grid" aria-label="Photography collections">
          <a class="qjn-collection-card qjn-collection-card--gallery"
             href="https://gallery.quentinnichols.com/"
             aria-label="Open Quentin Nichols gallery"
             target="_blank" rel="noopener">
            <div class="qjn-card-media"></div>
            <div class="qjn-card-body">
              <span class="qjn-card-tag">Pixieset Gallery</span>
              <h2 class="qjn-card-title">Client Galleries &amp; Albums</h2>
              <p class="qjn-card-text">
                Browse featured events, client collections, and recent album releases.
              </p>
              <span class="qjn-card-cta">Open gallery ↗</span>
            </div>
          </a>

          <a class="qjn-collection-card qjn-collection-card--store"
             href="https://qjnphotography.pixieset.com/highlightsforsale/store/"
             aria-label="Open Highlights for Sale store"
             target="_blank" rel="noopener">
            <div class="qjn-card-media"></div>
            <div class="qjn-card-body">
              <span class="qjn-card-tag">Fine Prints</span>
              <h2 class="qjn-card-title">Highlights for Sale</h2>
              <p class="qjn-card-text">
                Curated prints ready to order in metal, framed, paper formats &amp; more.
              </p>
              <span class="qjn-card-cta">Open store ↗</span>
            </div>
          </a>

          <a class="qjn-collection-card qjn-collection-card--booking"
             href="https://qjnphotography.pixieset.com/booking/"
             aria-label="Open Photography Booking"
             target="_blank" rel="noopener">
            <div class="qjn-card-media"></div>
            <div class="qjn-card-body">
              <span class="qjn-card-tag">Live Availability</span>
              <h2 class="qjn-card-title">Photography Booking</h2>
              <p class="qjn-card-text">
                View live availability and schedule portraits, family sessions, or aerial work.
              </p>
              <span class="qjn-card-cta">Open booking ↗</span>
            </div>
          </a>
        </section>
      </div>
    </section>
  </main>

  <div class="qjn-preview-modal" id="qjn-preview" role="dialog" aria-modal="true" hidden>
    <div class="qjn-preview-backdrop" data-close></div>
    <div class="qjn-preview-dialog" role="document" aria-labelledby="qjn-preview-title">
      <header class="qjn-preview-header">
        <h3 id="qjn-preview-title">Preview</h3>
        <div class="qjn-preview-actions">
          <a class="qjn-open-new" href="#" target="_blank" rel="noopener">Open in new tab</a>
          <button class="qjn-close" type="button" aria-label="Close preview" data-close>&times;</button>
        </div>
      </header>
      <iframe class="qjn-frame" title="Preview" src="about:blank" loading="eager"></iframe>
    </div>
  </div>

  <script>
    (function(){
      const modal = document.getElementById('qjn-preview');
      const frame = modal.querySelector('.qjn-frame');
      const openNew = modal.querySelector('.qjn-open-new');
      const titleEl = modal.querySelector('#qjn-preview-title');

      function openPreview(url, title){
        if(!url) return;

        frame.src = url;
        openNew.href = url;
        titleEl.textContent = title || 'Preview';

        modal.hidden = false;
        document.body.style.overflow = 'hidden';

        const fallback = setTimeout(()=>{
          try{
            const d = frame.contentDocument;
            if(!d || !d.body) throw 0;
          }catch(e){
            window.open(url, '_blank', 'noopener');
          }
        }, 1200);

        frame.addEventListener('load', ()=>clearTimeout(fallback), {once:true});
      }

      function closePreview(){
        modal.hidden = true;
        document.body.style.overflow = '';
        frame.src = 'about:blank';
      }

      document.querySelectorAll('.qjn-preview').forEach(link=>{
        link.addEventListener('click',(e)=>{
          if(e.metaKey || e.ctrlKey || e.button !== 0) return;
          e.preventDefault();
          const url = link.getAttribute('data-preview') || link.getAttribute('href');
          const ttl = link.querySelector('.qjn-card-title')?.textContent?.trim() || 'Preview';
          openPreview(url, ttl);
        });
      });

      modal.addEventListener('click',(e)=>{
        if(e.target.matches('[data-close]') ||
           e.target.classList.contains('qjn-preview-backdrop')){
          closePreview();
        }
      });

      document.addEventListener('keydown',(e)=>{
        if(e.key === 'Escape' && !modal.hidden) closePreview();
      });
    })();
  </script>
</body>
</html>
